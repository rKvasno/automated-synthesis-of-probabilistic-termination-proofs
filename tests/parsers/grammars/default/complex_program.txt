Complex program

=======

##bank is user input


# bank >= 0
dealer_bank = bank

# bank >= 0
# dealer_bank >= 0
quit = 0

# bank >= -1
# dealer_bank >= -1
# quit >= 0
while quit <= 0.5 and bank > 0 and dealer_bank > 0 {

  # quit <= 0.5 and bank > 0 and dealer_bank > 0
  nondet {

    # quit <= 0.5 and bank > 0 and dealer_bank > 0
    odds 1:1:0 {
      # quit <= 0.5 and bank > 0 and dealer_bank > 0
      bank = bank + 1

      # quit <= 0.5 and bank > 1 and dealer_bank > 0
      dealer_bank = dealer_bank - 1
    }
    {
      # quit <= 0.5 and bank > 0 and dealer_bank > 0
      dealer_bank = dealer_bank + 1
      
      # quit <= 0.5 and bank > 0 and dealer_bank > 1
      bank = bank - 1
    }
  }
  or {
    # quit <= 0.5 and bank > 0 and dealer_bank > 0
    quit = 1
  }
}

# bank >= -1
# dealer_bank >= -1
# quit >= 0

=======

(program
  (locations
    (location
      (invariants
        (linear_polynomial: "bank")
        (comparison_op: ">=")
        (linear_polynomial: "0")
      )
      (assign_inst
        (variable: "dealer_bank")
        (linear_polynomial: "bank")
      )
    )
    (location
      (invariants
        (linear_polynomial: "bank")
        (comparison_op: ">=")
        (linear_polynomial: "0")
        (linear_polynomial: "dealer_bank")
        (comparison_op: ">=")
        (linear_polynomial: "0")
      )
      (assign_inst
        (variable: "quit")
        (linear_polynomial: "0")
      )
    )
    (location
      (invariants
        (linear_polynomial: "bank")
        (comparison_op: ">=")
        (linear_polynomial: "-1")
        (linear_polynomial: "dealer_bank")
        (comparison_op: ">=")
        (linear_polynomial: "-1")
        (linear_polynomial: "quit")
        (comparison_op: ">=")
        (linear_polynomial: "0")
      )
      (while_inst
        (logic_condition
          (linear_polynomial: "quit")
          (comparison_op: "<=")
          (linear_polynomial: "0.5")
          (linear_polynomial: "bank")
          (comparison_op: ">")
          (linear_polynomial: "0")
          (linear_polynomial: "dealer_bank")
          (comparison_op: ">")
          (linear_polynomial: "0")
        )
        (locations
          (location
            (invariants
              (linear_polynomial: "quit")
              (comparison_op: "<=")
              (linear_polynomial: "0.5")
              (linear_polynomial: "bank")
              (comparison_op: ">")
              (linear_polynomial: "0")
              (linear_polynomial: "dealer_bank")
              (comparison_op: ">")
              (linear_polynomial: "0")
            )
            (nondet_inst
              (locations
                (location
                  (invariants
                    (linear_polynomial: "quit")
                    (comparison_op: "<=")
                    (linear_polynomial: "0.5")
                    (linear_polynomial: "bank")
                    (comparison_op: ">")
                    (linear_polynomial: "0")
                    (linear_polynomial: "dealer_bank")
                    (comparison_op: ">")
                    (linear_polynomial: "0")
                  )
                  (prob_inst
                    (constant: "1")
                    (constant: "1")
                    (constant: "0")
                    (locations
                      (location
                        (invariants
                          (linear_polynomial: "quit")
                          (comparison_op: "<=")
                          (linear_polynomial: "0.5")
                          (linear_polynomial: "bank")
                          (comparison_op: ">")
                          (linear_polynomial: "0")
                          (linear_polynomial: "dealer_bank")
                          (comparison_op: ">")
                          (linear_polynomial: "0")
                        )
                        (assign_inst
                          (variable: "bank")
                          (linear_polynomial: "bank + 1")
                        )
                      )
                      (location
                        (invariants
                          (linear_polynomial: "quit")
                          (comparison_op: "<=")
                          (linear_polynomial: "0.5")
                          (linear_polynomial: "bank")
                          (comparison_op: ">")
                          (linear_polynomial: "1")
                          (linear_polynomial: "dealer_bank")
                          (comparison_op: ">")
                          (linear_polynomial: "0")
                        )
                        (assign_inst
                          (variable: "dealer_bank")
                          (linear_polynomial: "dealer_bank - 1")
                        )
                      )
                    )
                    (locations
                      (location
                        (invariants
                          (linear_polynomial: "quit")
                          (comparison_op: "<=")
                          (linear_polynomial: "0.5")
                          (linear_polynomial: "bank")
                          (comparison_op: ">")
                          (linear_polynomial: "0")
                          (linear_polynomial: "dealer_bank")
                          (comparison_op: ">")
                          (linear_polynomial: "0")
                        )
                        (assign_inst
                          (variable: "dealer_bank")
                          (linear_polynomial: "dealer_bank + 1")
                        )
                      )
                      (location
                        (invariants
                          (linear_polynomial: "quit")
                          (comparison_op: "<=")
                          (linear_polynomial: "0.5")
                          (linear_polynomial: "bank")
                          (comparison_op: ">")
                          (linear_polynomial: "0")
                          (linear_polynomial: "dealer_bank")
                          (comparison_op: ">")
                          (linear_polynomial: "1")
                        )
                        (assign_inst
                          (variable: "bank")
                          (linear_polynomial: "bank - 1")
                        )
                      )
                    )
                  )
                )
              )
              (locations
                (location
                  (invariants
                    (linear_polynomial: "quit")
                    (comparison_op: "<=")
                    (linear_polynomial: "0.5")
                    (linear_polynomial: "bank")
                    (comparison_op: ">")
                    (linear_polynomial: "0")
                    (linear_polynomial: "dealer_bank")
                    (comparison_op: ">")
                    (linear_polynomial: "0")
                  )
                  (assign_inst
                    (variable: "quit")
                    (linear_polynomial: "1")
                  )
                )
              )
            )
          )
        )
      )
    )
  )
  (invariants
    (linear_polynomial: "bank")
    (comparison_op: ">=")
    (linear_polynomial: "-1")
    (linear_polynomial: "dealer_bank")
    (comparison_op: ">=")
    (linear_polynomial: "-1")
    (linear_polynomial: "quit")
    (comparison_op: ">=")
    (linear_polynomial: "0")
  )
  (EOI: "")
)
